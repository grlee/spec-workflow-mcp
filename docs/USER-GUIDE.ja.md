# ユーザーガイド

AI支援ソフトウェア開発のためのSpec Workflow MCPの使用に関する包括的なガイドです。

## はじめに

### Spec Workflow MCPとは？

Spec Workflow MCPは、AIアシスタントに構造化された仕様駆動開発ツールを提供するModel Context Protocolサーバーです。以下を支援します：

- コーディング前に詳細な仕様を作成
- 実装の進捗を追跡
- 承認と改訂を管理
- プロジェクトドキュメントを維持

### 基本的なワークフロー

1. **仕様を作成** - 構築したいものを定義
2. **レビューと承認** - 仕様が要件を満たすことを確認
3. **タスクを実装** - 実装計画を実行
4. **進捗を追跡** - 完了ステータスを監視

## 仕様の作成

### シンプルな仕様作成

AIアシスタントに仕様を作成するよう依頼します：

```
「ユーザー認証の仕様を作成して」
```

AIは自動的に：
1. 要件ドキュメントを作成
2. 技術的アプローチを設計
3. 実装をタスクに分解

### 詳細な仕様作成

より良い仕様のためにより多くのコンテキストを提供します：

```
「以下の機能を持つpayment-gatewayという仕様を作成して：
- クレジットカード処理
- PayPal統合
- サブスクリプション管理
- 支払いイベントのためのWebhook処理」
```

### 既存のドキュメントから

既存のPRDや設計ドキュメントを使用します：

```
「@product-requirements.mdから仕様を構築して」
```

## 仕様の管理

### すべての仕様をリスト

```
「すべての仕様を表示して」
```

返されるもの：
- 仕様名
- 現在のステータス
- 進捗率
- ドキュメント状態

### 仕様ステータスの確認

```
「user-auth仕様のステータスを表示して」
```

提供されるもの：
- 要件承認ステータス
- 設計承認ステータス
- タスク完了進捗
- 詳細なタスク内訳

### 仕様ドキュメントの表示

ダッシュボードまたはVSCode拡張機能を使用して：
- 要件ドキュメントを読む
- 設計ドキュメントをレビュー
- タスクリストを閲覧
- 実装進捗を追跡

## タスクの操作

### タスク構造

タスクは階層的に整理されます：
- **1.0** - 主要セクション
  - **1.1** - サブタスク
  - **1.2** - サブタスク
    - **1.2.1** - 詳細ステップ

### タスクの実装

#### 方法1：直接実装
```
「user-auth仕様のタスク1.2を実装して」
```

#### 方法2：ダッシュボードからコピー
1. ダッシュボードを開く
2. 仕様に移動
3. 「タスク」タブをクリック
4. 任意のタスクの横にある「プロンプトをコピー」ボタンをクリック
5. AI会話に貼り付け

#### 方法3：バッチ実装
```
「user-auth仕様のすべてのデータベースセットアップタスクを実装して」
```

### タスクステータス

タスクには3つの状態があります：
- ⏳ **保留中** - 未開始
- 🔄 **進行中** - 現在作業中
- ✅ **完了** - 終了

## 承認ワークフロー

### 承認のリクエスト

ドキュメントがレビューの準備ができたとき：

1. AIが自動的に承認をリクエスト
2. ダッシュボードが通知を表示
3. ドキュメントをレビュー
4. フィードバックを提供または承認

### 承認アクション

- **承認** - ドキュメントをそのまま受け入れる
- **変更をリクエスト** - 改訂のためにフィードバックを提供
- **却下** - 新しい要件で最初からやり直す

### 改訂プロセス

1. 具体的なフィードバックを提供
2. AIがドキュメントを改訂
3. 更新されたバージョンをレビュー
4. 承認またはさらなる変更をリクエスト

## バグワークフロー

### バグの報告

```
「SSOを使用した際のログイン失敗のバグレポートを作成して」
```

作成されるもの：
- バグの説明
- 再現手順
- 期待される動作と実際の動作
- 優先度と重要度

### バグの解決

```
「user-auth仕様のバグ#123の修正を作成して」
```

生成されるもの：
- 根本原因分析
- 修正実装計画
- テスト要件
- デプロイ手順

## テンプレートシステム

### テンプレートの使用

Spec Workflowには以下のテンプレートが含まれています：
- 要件ドキュメント
- 設計ドキュメント
- タスクリスト
- バグレポート
- ステアリングドキュメント

### カスタムテンプレート

`.spec-workflow/templates/`に独自のテンプレートを作成します：

```markdown
# カスタム機能テンプレート

## 概要
[機能の説明]

## ユーザーストーリー
[ユーザーストーリー]

## 技術要件
[技術詳細]
```

## 高度な機能

### ステアリングドキュメント

高レベルのプロジェクトガイダンスを作成：

```
「私のeコマースプロジェクトのステアリングドキュメントを作成して」
```

生成されるもの：
- **プロダクトステアリング** - ビジョンと目標
- **技術ステアリング** - アーキテクチャ決定
- **構造ステアリング** - プロジェクト構成

### アーカイブシステム

完了した仕様を管理：
- 完了した仕様をアーカイブに移動
- アクティブなワークスペースをきれいに保つ
- アーカイブされた仕様にいつでもアクセス
- 必要に応じて仕様を復元

### 多言語サポート

インターフェース言語を変更：

1. **ダッシュボード**：設定 → 言語
2. **VSCode拡張機能**：拡張機能設定 → 言語
3. **設定ファイル**：`lang = "ja"`（または他の言語コード）

## ベストプラクティス

### 1. ステアリングドキュメントから始める

仕様を作成する前に：
```
「プロジェクトを導くステアリングドキュメントを作成して」
```

### 2. 要件で具体的に

良い例：
```
「以下の機能を持つユーザー認証の仕様を作成して：
- メール/パスワードログイン
- OAuth2（Google、GitHub）
- 2FAサポート
- パスワードリセットフロー」
```

理想的でない例：
```
「ログイン仕様を作成して」
```

### 3. 実装前にレビュー

常にレビューして承認：
1. 要件ドキュメント
2. 設計ドキュメント
3. タスク内訳

### 4. 段階的に実装

- タスクを順番に完了
- 各主要セクション後にテスト
- タスクステータスを定期的に更新

### 5. ダッシュボードを使用

ダッシュボードは提供します：
- ビジュアル進捗追跡
- 簡単なドキュメントナビゲーション
- 迅速な承認アクション
- リアルタイム更新

## 一般的なワークフロー

### 機能開発

1. 仕様を作成：`「shopping-cart機能の仕様を作成して」`
2. ダッシュボードで要件をレビュー
3. 承認または変更をリクエスト
4. 設計ドキュメントをレビュー
5. 設計を承認
6. タスクを順次実装
7. ダッシュボードで進捗を追跡

### バグ修正

1. バグを報告：`「チェックアウトエラーのバグレポートを作成して」`
2. 分析：`「バグ#45の根本原因を分析して」`
3. 修正を計画：`「バグ#45の修正計画を作成して」`
4. 実装：`「修正を実装して」`
5. 検証：`「バグ#45修正のテスト計画を作成して」`

### リファクタリング

1. 仕様を作成：`「データベース最適化の仕様を作成して」`
2. 現在の状態をドキュメント化
3. 改善を設計
4. 移行ステップを計画
5. 段階的に実装
6. 各ステップを検証

## ヒントとトリック

### 効率的なタスク管理

- 関連項目にタスクグループ化を使用
- 正確性のためにダッシュボードからプロンプトをコピー
- 完了後すぐにタスクを完了としてマーク

### ドキュメント管理

- 要件を簡潔だが完全に保つ
- 受け入れ基準を含める
- 設計に技術的制約を追加
- 必要に応じて外部ドキュメントを参照

### コラボレーション

- フィードバックに承認コメントを使用
- チームとダッシュボードURLを共有
- 外部レビュー用にドキュメントをエクスポート
- 改訂履歴を通じて変更を追跡

## AIアシスタントとの統合

### コンテキスト認識

AIアシスタントは自動的に：
- プロジェクト構造を認識
- 仕様の関係を理解
- 実装進捗を追跡
- 一貫性を維持

### 自然言語コマンド

自然に話す：
- 「どんな仕様があるの？」
- 「残りの作業を表示して」
- 「次のタスクに取り掛かって」
- 「より良いパフォーマンスのために設計を更新して」

### 継続的なワークフロー

AIはセッション間でコンテキストを維持：
- 中断したところから再開
- 以前の決定を参照
- 既存の作業の上に構築
- プロジェクトの一貫性を維持

## 関連ドキュメント

- [ワークフロープロセス](WORKFLOW.ja.md) - 詳細なワークフローガイド
- [プロンプティングガイド](PROMPTING-GUIDE.ja.md) - プロンプト例
- [インターフェースガイド](INTERFACES.ja.md) - ダッシュボードと拡張機能の詳細
- [ツールリファレンス](TOOLS-REFERENCE.ja.md) - 完全なツールドキュメント
